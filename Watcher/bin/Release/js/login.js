// Generated by CoffeeScript 1.6.3
(function() {
  var helpers, iYansLogin, makeRequest,
    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  makeRequest = window.app.makeRequest;

  helpers = window.app.helpers;

  window.namespace('app.controllers', function() {
    var LoginCtrl;
    LoginCtrl = (function() {
      function LoginCtrl(scope, element, location) {
        this.scope = scope;
        this.element = element;
        this.location = location;
        this.scopeFunctions = __bind(this.scopeFunctions, this);
        this.watchers = __bind(this.watchers, this);
        this.scope.location = this.location;
        this.scopeFunctions();
      }

      LoginCtrl.prototype.watchers = function() {};

      LoginCtrl.prototype.scopeFunctions = function() {
        var _this = this;
        this.scope.init = function() {
          return _this.watchers();
        };
        this.scope.logIn = function() {
          console.log(_this.scope.loginText);
          return console.log(_this.scope.password);
        };
        this.scope.signUp = function() {
          console.log(_this.scope.name);
          console.log(_this.scope.surname);
          console.log(_this.scope.avatar);
          _this.scope.tryApply(function() {
            return _this.scope.registrationShow = false;
          });
          return _this.location.path('/invite/login');
        };
        return this.scope.onAvatarChange = function(elem) {
          return _this.scope.avatar = elem.files[0];
        };
      };

      return LoginCtrl;

    })();
    return this.LoginCtrl = function($scope, $element, $location) {
      return (function(func, args, ctor) {
        ctor.prototype = func.prototype;
        var child = new ctor, result = func.apply(child, args);
        return Object(result) === result ? result : child;
      })(LoginCtrl, arguments, function(){});
    };
  });

  iYansLogin = angular.module('iyansLogin', ['ngRoute', 'route-segment', 'view-segment']);

  iYansLogin.run([
    '$rootScope', '$compile', '$timeout', function($rootScope, $compile, $timeout) {
      var _this = this;
      $rootScope.tryApply = function(act) {
        if ($rootScope.$$phase) {
          return act();
        } else {
          return $rootScope.$apply(act);
        }
      };
      $rootScope.timeout = $timeout;
      return $rootScope.compile = $compile;
    }
  ]);

  iYansLogin.config(function($routeSegmentProvider, $routeProvider) {
    $routeSegmentProvider.when('/login', 'l').when('/signup', 's').segment('l', {
      template: loginHtml
    }).segment('s', {
      template: signupHtml
    });
    return $routeProvider.otherwise({
      redirectTo: 'login'
    });
  });

}).call(this);
